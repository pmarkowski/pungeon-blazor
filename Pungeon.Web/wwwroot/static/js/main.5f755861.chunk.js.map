{"version":3,"sources":["app/reducers/dungeonReducer.js","app/store.js","app/utils/handleKeyboardEvent.js","app/components/DungeonEditor.js","app/components/StateEditor.js","app/components/Toolbar.js","app/App.js","serviceWorker.js","index.js"],"names":["selectTool","toolName","type","selectedTool","moveSelectedObject","deltaX","deltaY","setSelectedObjectPosition","x","y","setSelectedObjectSize","width","height","dungeonReducer","state","action","mouseDown","mouseStartX","mouseStartY","arrayWithUpdatedObject","dungeon","spaces","map","space","id","selectedObject","position","size","spaceArray","slice","newSpace","objectId","selectedObjectId","newSpaceArray","filter","store","createStore","walls","start","end","window","__REDUX_DEVTOOLS_EXTENSION__","handleKeyboardEvent","keyboardEvent","key","dispatch","DungeonEditor","style","tabIndex","ref","element","canvasDiv","app","PIXI","backgroundColor","sharedLoader","sharedTicker","antialias","this","appendChild","view","resizeTo","resize","graphics","zIndex","Number","MAX_SAFE_INTEGER","stage","sortableChildren","addChild","setupInteractions","ticker","add","delta","getState","clear","drawSpaces","drawWalls","drawGrid","renderer","plugins","interaction","mouseOverRenderer","drawSelectedGridBox","gridTileSize","addEventListener","wheelEvent","scaleDelta","wheelDeltaY","newScale","Math","min","max","scale","set","localMousePoint","mouse","getLocalPosition","event","preventDefault","onMouseDown","onMouseUp","pointerEvent","buttons","movementX","movementY","button","mousePoint","startX","floor","startY","endX","ceil","endY","uuid","container","stateSpaceMap","reduce","containerSpaceIds","Set","children","child","Object","keys","forEach","spaceId","has","newChildGraphics","interactive","mouseup","beginFill","drawRect","endFill","tint","removeChild","dungeonWalls","wall","lineStyle","moveTo","lineTo","drawCircle","snappedX","snappedY","gridWidth","gridHeight","i","j","React","Component","StateEditor","Fragment","className","value","onChange","changeEvent","parseInt","target","onClick","connect","Toolbar","role","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.5f755861.chunk.js","sourcesContent":["export const selectTool = (toolName) => ({\r\n    type: 'SELECT_TOOL',\r\n    selectedTool: toolName\r\n})\r\n\r\nexport const selectObject = (objectId) => ({\r\n    type: 'SELECT_OBJECT',\r\n    objectId: objectId\r\n})\r\n\r\nexport const deleteSelectedObject = () => ({\r\n    type: 'DELETE_OBJECT'\r\n})\r\n\r\nexport const moveSelectedObject = (deltaX, deltaY) => ({\r\n    type: 'MOVE_SELECTED_OBJECT',\r\n    deltaX: deltaX,\r\n    deltaY: deltaY\r\n})\r\n\r\nexport const setSelectedObjectPosition = (x, y) => ({\r\n    type: 'SET_SELECTED_OBJECT_POSITION',\r\n    x: x,\r\n    y: y\r\n})\r\n\r\nexport const setSelectedObjectSize = (width, height) => ({\r\n    type: 'SET_SELECTED_OBJECT_SIZE',\r\n    width: width,\r\n    height: height\r\n})\r\n\r\nexport const dungeonReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case 'MOUSE_DOWN': {\r\n            return {\r\n                ...state,\r\n                mouseDown: true,\r\n                mouseStartX: action.x,\r\n                mouseStartY: action.y\r\n            };\r\n        }\r\n        case 'MOUSE_UP': {\r\n            return {\r\n                ...state,\r\n                mouseDown: false\r\n            };\r\n        }\r\n        case 'MOVE_SELECTED_OBJECT': {\r\n            let arrayWithUpdatedObject = state.dungeon.spaces.map(space => {\r\n                if (space.id === state.selectedObject) {\r\n                    return {\r\n                        ...space,\r\n                        position: {\r\n                            x: space.position.x + action.deltaX,\r\n                            y: space.position.y + action.deltaY\r\n                        }\r\n                    };\r\n                }\r\n                else {\r\n                    return space;\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                dungeon: {\r\n                    ...state.dungeon,\r\n                    spaces: arrayWithUpdatedObject\r\n                }\r\n            };\r\n        }\r\n        case 'SET_SELECTED_OBJECT_POSITION': {\r\n            let arrayWithUpdatedObject = state.dungeon.spaces.map(space => {\r\n                if (space.id === state.selectedObject) {\r\n                    return {\r\n                        ...space,\r\n                        position: {\r\n                            x: action.x,\r\n                            y: action.y\r\n                        }\r\n                    };\r\n                }\r\n                else {\r\n                    return space;\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                dungeon: {\r\n                    ...state.dungeon,\r\n                    spaces: arrayWithUpdatedObject\r\n                }\r\n            };\r\n        }\r\n        case 'SET_SELECTED_OBJECT_SIZE': {\r\n            let arrayWithUpdatedObject = state.dungeon.spaces.map(space => {\r\n                if (space.id === state.selectedObject) {\r\n                    return {\r\n                        ...space,\r\n                        size: {\r\n                            width: action.width,\r\n                            height: action.height\r\n                        }\r\n                    };\r\n                }\r\n                else {\r\n                    return space;\r\n                }\r\n            });\r\n            return {\r\n                ...state,\r\n                dungeon: {\r\n                    ...state.dungeon,\r\n                    spaces: arrayWithUpdatedObject\r\n                }\r\n            };\r\n        }\r\n        case 'ADD_SPACE': {\r\n            if (state.selectedTool === 'NewSpace') {\r\n                let spaceArray = state.dungeon.spaces.slice();\r\n                spaceArray = [...spaceArray, action.newSpace];\r\n                return {\r\n                    ...state,\r\n                    dungeon: {\r\n                        ...state.dungeon,\r\n                        spaces: spaceArray\r\n                    }\r\n                };\r\n            }\r\n            else {\r\n                return state;\r\n            }\r\n        }\r\n        case 'SELECT_TOOL': {\r\n            let selectedObject = state.selectedObject;\r\n            if (action.selectedTool !== 'Select') {\r\n                selectedObject = null;\r\n            }\r\n            return {\r\n                ...state,\r\n                selectedTool: action.selectedTool,\r\n                selectedObject: selectedObject\r\n            };\r\n        }\r\n        case 'SELECT_OBJECT': {\r\n            if (state.selectedTool === 'Select') {\r\n                return {\r\n                    ...state,\r\n                    selectedObject: action.objectId\r\n                };\r\n            }\r\n            else {\r\n                return state;\r\n            }\r\n        }\r\n        case 'DELETE_OBJECT': {\r\n            let selectedObjectId = state.selectedObject;\r\n            if (selectedObjectId) {\r\n                let newSpaceArray = state.dungeon.spaces.filter(space => space.id !== selectedObjectId);\r\n                return {\r\n                    ...state,\r\n                    selectedObject: null,\r\n                    dungeon: {\r\n                        ...state.dungeon,\r\n                        spaces: newSpaceArray\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                return state;   \r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default dungeonReducer\r\n","import { createStore } from 'redux';\r\nimport dungeonReducer from './reducers/dungeonReducer.js'\r\n\r\nconst store = createStore(dungeonReducer,\r\n  {\r\n    mouseDown: false,\r\n    mouseStartX: 0,\r\n    mouseStartY: 0,\r\n    selectedTool: 'NewSpace',\r\n    dungeon: {\r\n      size: {\r\n        width: 28,\r\n        height: 32\r\n      },\r\n      spaces: [\r\n        {\r\n          id: \"01f998f7-3ad4-43c6-b498-3249ab470b05\",\r\n          position: {\r\n            x: 1,\r\n            y: 1\r\n          },\r\n          size: {\r\n            width: 5,\r\n            height: 5\r\n          }\r\n        },\r\n        {\r\n          id: \"79178d8c-3a3e-42ee-b1ec-00dc37a045fc\",\r\n          position: {\r\n            x: 6,\r\n            y: 4\r\n          },\r\n          size: {\r\n            width: 7,\r\n            height: 9\r\n          }\r\n        },\r\n        {\r\n          id: \"6ce25fdc-9fd4-46c0-a924-74f5f9174193\",\r\n          position: {\r\n            x: 15,\r\n            y: 15\r\n          },\r\n          size: {\r\n            width: 6,\r\n            height: 7\r\n          }\r\n        },\r\n        {\r\n          id: \"e211fbd3-a817-47a5-bb47-481ba330e46d\",\r\n          position: {\r\n            x: 21,\r\n            y: 19\r\n          },\r\n          size: {\r\n            width: 4,\r\n            height: 9\r\n          }\r\n        }\r\n      ],\r\n      walls: [\r\n        {\r\n          start: {\r\n            x: 1,\r\n            y: 1\r\n          },\r\n          end: {\r\n            x: 1,\r\n            y: 6\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 6,\r\n            y: 6\r\n          },\r\n          end: {\r\n            x: 1,\r\n            y: 6\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 6,\r\n            y: 13\r\n          },\r\n          end: {\r\n            x: 6,\r\n            y: 6\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 13,\r\n            y: 13\r\n          },\r\n          end: {\r\n            x: 6,\r\n            y: 13\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 13,\r\n            y: 4\r\n          },\r\n          end: {\r\n            x: 13,\r\n            y: 13\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 6,\r\n            y: 4\r\n          },\r\n          end: {\r\n            x: 13,\r\n            y: 4\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 6,\r\n            y: 1\r\n          },\r\n          end: {\r\n            x: 6,\r\n            y: 4\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 1,\r\n            y: 1\r\n          },\r\n          end: {\r\n            x: 6,\r\n            y: 1\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 15,\r\n            y: 15\r\n          },\r\n          end: {\r\n            x: 15,\r\n            y: 22\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 21,\r\n            y: 22\r\n          },\r\n          end: {\r\n            x: 15,\r\n            y: 22\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 21,\r\n            y: 15\r\n          },\r\n          end: {\r\n            x: 15,\r\n            y: 15\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 21,\r\n            y: 19\r\n          },\r\n          end: {\r\n            x: 21,\r\n            y: 15\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 25,\r\n            y: 19\r\n          },\r\n          end: {\r\n            x: 21,\r\n            y: 19\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 21,\r\n            y: 22\r\n          },\r\n          end: {\r\n            x: 21,\r\n            y: 28\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 21,\r\n            y: 28\r\n          },\r\n          end: {\r\n            x: 25,\r\n            y: 28\r\n          }\r\n        },\r\n        {\r\n          start: {\r\n            x: 25,\r\n            y: 19\r\n          },\r\n          end: {\r\n            x: 25,\r\n            y: 28\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import { deleteSelectedObject, moveSelectedObject } from \"../reducers/dungeonReducer\"\r\n\r\nconst handleKeyboardEvent = (keyboardEvent, store) => {\r\n    switch (keyboardEvent.key) {\r\n        case 'Delete':\r\n            return store.dispatch(deleteSelectedObject());\r\n        case 'ArrowLeft':\r\n            return store.dispatch(moveSelectedObject(-1, 0));\r\n        case 'ArrowRight':\r\n            return store.dispatch(moveSelectedObject(1, 0));\r\n        case 'ArrowDown':\r\n            return store.dispatch(moveSelectedObject(0, 1));\r\n        case 'ArrowUp':\r\n            return store.dispatch(moveSelectedObject(0, -1));\r\n        default:\r\n            return;\r\n    }\r\n}\r\n\r\nexport default handleKeyboardEvent","import React from 'react'\r\nimport * as PIXI from 'pixi.js'\r\nimport store from '../store.js'\r\nimport { v4 as uuid } from 'uuid'\r\nimport { selectObject } from \"../reducers/dungeonReducer\";\r\nimport handleKeyboardEvent from '../utils/handleKeyboardEvent.js';\r\n\r\nexport default class DungeonEditor extends React.Component {\r\n    render() {\r\n        return <div\r\n            style={{height:\"85vh\"}}\r\n            tabIndex={-1}\r\n            ref={(element) => this.canvasDiv = element}>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        const app = new PIXI.Application({\r\n            backgroundColor: 0x5f5f5f,\r\n            sharedLoader: true,\r\n            sharedTicker: true,\r\n            antialias: true\r\n        });\r\n        this.app = app;\r\n        this.canvasDiv.appendChild(app.view);\r\n        this.app.resizeTo = this.canvasDiv;\r\n        this.app.resize();\r\n\r\n        let graphics = new PIXI.Graphics();\r\n        graphics.zIndex = Number.MAX_SAFE_INTEGER;\r\n        app.stage.sortableChildren = true;\r\n        app.stage.addChild(graphics);\r\n\r\n        let gridTileSize = 70.0;\r\n        this.setupInteractions(app, gridTileSize)\r\n\r\n        app.ticker.add((delta) => {\r\n            var state = store.getState();\r\n\r\n            graphics.clear();\r\n\r\n            this.drawSpaces(app.stage, state, gridTileSize);\r\n            this.drawWalls(graphics, state.dungeon.walls, gridTileSize);\r\n            this.drawGrid(graphics, state.dungeon.size.width, state.dungeon.size.height, gridTileSize);\r\n\r\n            if (app.renderer.plugins.interaction.mouseOverRenderer) {\r\n                this.drawSelectedGridBox(app, state, gridTileSize, graphics);\r\n            }\r\n        });\r\n    }\r\n\r\n    setupInteractions(app, gridTileSize) {\r\n        this.canvasDiv.addEventListener(\"wheel\", (wheelEvent) => {\r\n            let scaleDelta = 0.1\r\n            if (wheelEvent.wheelDeltaY < 0) {\r\n                scaleDelta *= -1\r\n            }\r\n            let newScale = Math.min(Math.max(app.stage.scale.x + scaleDelta, 0.1), 2)\r\n            if (newScale !== app.stage.scale.x) {\r\n                app.stage.scale.set(newScale)\r\n                let localMousePoint = app.renderer.plugins.interaction.mouse.getLocalPosition(app.stage)\r\n                app.stage.position.x -= (localMousePoint.x) * scaleDelta\r\n                app.stage.position.y -= (localMousePoint.y) * scaleDelta\r\n            }\r\n        });\r\n        this.canvasDiv.addEventListener('contextmenu', (event) => {\r\n            event.preventDefault()\r\n        });\r\n        this.canvasDiv.addEventListener('pointerdown', () => {\r\n            this.onMouseDown(app)\r\n        });\r\n        this.canvasDiv.addEventListener('pointerup', () => {\r\n            this.onMouseUp(app, gridTileSize)\r\n        });\r\n        this.canvasDiv.addEventListener('pointermove', (pointerEvent) => {\r\n            if (pointerEvent.buttons === 2) {\r\n                app.stage.position.x += pointerEvent.movementX\r\n                app.stage.position.y += pointerEvent.movementY\r\n            }\r\n        });\r\n        this.canvasDiv.addEventListener('keydown', (event) => {\r\n            handleKeyboardEvent(event, store);\r\n        });\r\n    }\r\n\r\n    onMouseDown(app) {\r\n        if (app.renderer.plugins.interaction.mouse.button === 0) {\r\n            let mousePoint = app.renderer.plugins.interaction.mouse.getLocalPosition(app.stage);\r\n            store.dispatch({ type: 'MOUSE_DOWN', x: mousePoint.x, y: mousePoint.y });\r\n        }\r\n    }\r\n\r\n    onMouseUp(app, gridTileSize) {\r\n        if (app.renderer.plugins.interaction.mouse.button === 0) {\r\n            let mousePoint = app.renderer.plugins.interaction.mouse.getLocalPosition(app.stage);\r\n            store.dispatch({ type: 'MOUSE_UP' });\r\n            // TODO: Some terrible redux practices here I'm sure\r\n            // Yep, this should go into the reducer or dispatch a thunk that will have access\r\n            // to the full state.\r\n            let state = store.getState();\r\n            let startX = Math.floor(Math.min(state.mouseStartX, mousePoint.x) / gridTileSize);\r\n            let startY = Math.floor(Math.min(state.mouseStartY, mousePoint.y) / gridTileSize);\r\n            let endX = Math.ceil(Math.max(state.mouseStartX, mousePoint.x) / gridTileSize);\r\n            let endY = Math.ceil(Math.max(state.mouseStartY, mousePoint.y) / gridTileSize);\r\n            store.dispatch({\r\n                type: 'ADD_SPACE', newSpace: {\r\n                    id: uuid(),\r\n                    position: {\r\n                        x: startX,\r\n                        y: startY\r\n                    },\r\n                    size: {\r\n                        width: endX - startX,\r\n                        height: endY - startY\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    drawSpaces(container, state, gridTileSize) {\r\n        let stateSpaceMap = state.dungeon.spaces.reduce((map, space) => {\r\n            map[space.id] = space;\r\n            return map;\r\n        }, {});\r\n        // Add any spaces that are in state but not in pixi\r\n        let containerSpaceIds = new Set(container.children.map(child => child.id));\r\n        let stateSpaceIds = Object.keys(stateSpaceMap);\r\n        stateSpaceIds.forEach(spaceId => {\r\n            if (!containerSpaceIds.has(spaceId)) {\r\n                let newChildGraphics = new PIXI.Graphics();\r\n                newChildGraphics.id = spaceId;\r\n                newChildGraphics.interactive = true;\r\n                newChildGraphics.mouseup = function() {\r\n                    store.dispatch(selectObject(this.id));\r\n                };\r\n                container.addChild(newChildGraphics);\r\n            }\r\n        });\r\n\r\n        // Sync all child graphics with state\r\n        container.children.forEach(graphics => {\r\n            if (graphics.id) {\r\n                let space = stateSpaceMap[graphics.id];\r\n                if (space) {\r\n                    graphics.clear();\r\n                    graphics.beginFill(0xd6d5d5);\r\n                    graphics.drawRect(\r\n                        space.position.x * gridTileSize,\r\n                        space.position.y * gridTileSize,\r\n                        space.size.width * gridTileSize,\r\n                        space.size.height * gridTileSize);\r\n                    graphics.endFill();\r\n\r\n                    if (state.selectedObject === graphics.id) {\r\n                        graphics.tint = 0xffffcc;\r\n                    }\r\n                    else {\r\n                        graphics.tint = 0xffffff;\r\n                    }\r\n                }\r\n                else {\r\n                    container.removeChild(graphics);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    drawWalls(graphics, dungeonWalls, gridTileSize) {\r\n        graphics.beginFill();\r\n        dungeonWalls.forEach(wall => {\r\n            graphics.beginFill(0x0266e6, 1);\r\n            graphics.lineStyle(10, 0x0266e6, 1, 0.5);\r\n            graphics.moveTo(wall.start.x * gridTileSize, wall.start.y * gridTileSize);\r\n            graphics.lineTo(wall.end.x * gridTileSize, wall.end.y * gridTileSize);\r\n            graphics.lineStyle();\r\n            graphics.drawCircle(wall.start.x * gridTileSize, wall.start.y * gridTileSize, 5);\r\n            graphics.drawCircle(wall.end.x * gridTileSize, wall.end.y * gridTileSize, 5);\r\n            graphics.endFill();\r\n        })\r\n    }\r\n\r\n    drawSelectedGridBox(app, state, gridTileSize, graphics) {\r\n        let mousePoint = app.renderer.plugins.interaction.mouse.getLocalPosition(app.stage);\r\n        let snappedX, snappedY, width, height;\r\n        if (state.mouseDown) {\r\n            let startX = Math.min(state.mouseStartX, mousePoint.x);\r\n            let startY = Math.min(state.mouseStartY, mousePoint.y);\r\n            let endX = Math.max(state.mouseStartX, mousePoint.x);\r\n            let endY = Math.max(state.mouseStartY, mousePoint.y);\r\n            snappedX = Math.floor(startX / gridTileSize) * gridTileSize;\r\n            snappedY = Math.floor(startY / gridTileSize) * gridTileSize;\r\n            endX = Math.floor(endX / gridTileSize) * gridTileSize + gridTileSize;\r\n            endY = Math.floor(endY / gridTileSize) * gridTileSize + gridTileSize;\r\n            width = endX - snappedX;\r\n            height = endY - snappedY;\r\n        }\r\n        else {\r\n            // snap to nearest grid point\r\n            // for now for simplicity let's say top left\r\n            snappedX = Math.floor(mousePoint.x / gridTileSize) * gridTileSize;\r\n            snappedY = Math.floor(mousePoint.y / gridTileSize) * gridTileSize;\r\n            width = gridTileSize;\r\n            height = gridTileSize;\r\n        }\r\n        // draw a hover rect\r\n        graphics.beginFill(0, 0);\r\n        graphics.lineStyle(1, 0xfffd00);\r\n        graphics.drawRect(snappedX, snappedY, width, height);\r\n        graphics.endFill();\r\n    }\r\n\r\n    drawGrid(graphics, gridWidth, gridHeight, gridTileSize) {\r\n        graphics.lineStyle(1, 0x444444, 1, 0.5);\r\n        for (let i = 0; i < gridWidth; i++) {\r\n            graphics.moveTo(i * gridTileSize, 0);\r\n            graphics.lineTo(i * gridTileSize, (gridHeight - 1) * gridTileSize);\r\n        }\r\n        for (let j = 0; j < gridHeight; j++) {\r\n            graphics.moveTo(0, j * gridTileSize);\r\n            graphics.lineTo((gridWidth - 1) * gridTileSize, j * gridTileSize);\r\n        }\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport { deleteSelectedObject, setSelectedObjectPosition, setSelectedObjectSize } from '../reducers/dungeonReducer'\r\n\r\nlet StateEditor = ({ dispatch, selectedObjectId, selectedObject }) => {\r\n    if (selectedObjectId) {\r\n        return <React.Fragment>\r\n            {selectedObject.position &&\r\n                <div className=\"card bg-dark text-light border-secondary mb-3\">\r\n                    <div className=\"card-header border-secondary\">\r\n                        <h5>Position</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"form-group\">\r\n                            <label>\r\n                                X:\r\n                                <input\r\n                                    className=\"form-control bg-secondary text-light\"\r\n                                    type=\"number\"\r\n                                    value={selectedObject.position.x}\r\n                                    onChange={(changeEvent) => dispatch(setSelectedObjectPosition(\r\n                                        parseInt(changeEvent.target.value),\r\n                                        selectedObject.position.y\r\n                                    ))}>\r\n                                </input>\r\n                            </label>\r\n                            <label>\r\n                                Y:\r\n                                <input\r\n                                    className=\"form-control bg-secondary text-light\"\r\n                                    type=\"number\"\r\n                                    value={selectedObject.position.y}\r\n                                    onChange={(changeEvent) => dispatch(setSelectedObjectPosition(\r\n                                        selectedObject.position.x,\r\n                                        parseInt(changeEvent.target.value)\r\n                                    ))}>\r\n                                </input>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {selectedObject.size &&\r\n                <div className=\"card bg-dark text-light border-secondary mb-3\">\r\n                    <div className=\"card-header border-secondary\">\r\n                        <h5>Size</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"form-group\">\r\n                            <label>\r\n                                Width:\r\n                                <input\r\n                                    className=\"form-control bg-secondary text-light\"\r\n                                    type=\"number\"\r\n                                    value={selectedObject.size.width}\r\n                                    onChange={(changeEvent) => dispatch(setSelectedObjectSize(\r\n                                        parseInt(changeEvent.target.value),\r\n                                        selectedObject.size.height\r\n                                    ))}>\r\n                                </input>\r\n                            </label>\r\n                            <label>\r\n                                Height:\r\n                                <input\r\n                                    className=\"form-control bg-secondary text-light\"\r\n                                    type=\"number\"\r\n                                    value={selectedObject.size.height}\r\n                                    onChange={(changeEvent) => dispatch(setSelectedObjectSize(\r\n                                        selectedObject.size.width,\r\n                                        parseInt(changeEvent.target.value)\r\n                                    ))}>\r\n                                </input>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {selectedObjectId &&\r\n                <div className=\"card bg-dark text-light border-secondary mb-3\">\r\n                    <div className=\"card-header border-secondary\">\r\n                        <h5>Actions</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <button\r\n                            className=\"btn btn-outline-danger\"\r\n                            onClick={() => dispatch(deleteSelectedObject())}>\r\n                                Delete Object\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </React.Fragment>\r\n    }\r\n    else {\r\n        return <div className=\"card bg-dark text-light border-secondary mb-3\">\r\n            <div className=\"card-header border-secondary\">\r\n                <h5>Instructions</h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <p><i>Right click</i> to pan the view.</p>\r\n                <p><i>Scroll</i> to zoom in and out.</p>\r\n                <p><i>Left click and drag</i> to create new spaces with the New Space tool.</p>\r\n                <p><i>Left click</i> to select spaces with the Select tool.</p>\r\n                <p><i>Arrow keys</i> will move the currently selected space.</p>\r\n                <p><i>Delete</i> will delete the currently selected space.</p>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedObjectId: state.selectedObject,\r\n    selectedObject: state.dungeon.spaces.filter(space => space.id === state.selectedObject)[0]\r\n})\r\n\r\nStateEditor = connect(mapStateToProps)(StateEditor)\r\n\r\nexport default StateEditor\r\n","import React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport { selectTool } from '../reducers/dungeonReducer'\r\n\r\nlet Toolbar = ({ dispatch, selectedTool }) => {\r\n    return (\r\n        <div className=\"btn-group\" role=\"group\">\r\n            <button\r\n                className={\"btn btn-secondary\" +\r\n                    (selectedTool === 'Select' ? ' active' : '')}\r\n                onClick={() => dispatch(selectTool('Select'))}>\r\n                    Select\r\n            </button>\r\n            <button\r\n                className={\"btn btn-secondary\" +\r\n                    (selectedTool === 'NewSpace' ? ' active' : '')}\r\n                onClick={() => dispatch(selectTool('NewSpace'))}>\r\n                    New Space\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    selectedTool: state.selectedTool\r\n})\r\n\r\nToolbar = connect(mapStateToProps)(Toolbar)\r\n\r\nexport default Toolbar\r\n","import React from 'react';\r\nimport './App.css';\r\nimport DungeonEditor from \"./components/DungeonEditor.js\";\r\nimport StateEditor from './components/StateEditor';\r\nimport Toolbar from './components/Toolbar';\r\n\r\nfunction App() {\r\n  return (\r\n    <React.Fragment>\r\n      <nav className=\"navbar navbar-dark bg-secondary\">\r\n        <span className=\"navbar-brand\">\r\n          Pungeon\r\n        </span>\r\n      </nav>\r\n      <div className=\"px-5\">\r\n        <div className=\"py-2\">\r\n          <Toolbar />\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">\r\n            <DungeonEditor />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <StateEditor />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './app/store.js'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}